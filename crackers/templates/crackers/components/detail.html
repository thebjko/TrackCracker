{% load custom_filters %}
<tr id="detail-row-{{ supertask.pk }}">
  <td colspan="4">
    <div>
      <div class="my-3 p-3">
        <h1>{{ supertask.title }}</h1>
      </div>
      <div class="card">
        <div class="card-header">
          Description
        </div>
        <div class="card-body">
          <p class="card-text">{{ supertask.description|markdown }}</p>
        </div>
      </div>
      <br>
      {# pagination #}
      <div class="mx-3">
        <h5>Subtask</h5>
        <div class="justify-content-center">
          {% comment %} <ul id="subtasks-for-{{ supertask.pk }}"> {% endcomment %}
          <table class="table table-hover">
            <tbody id="subtasks-for-{{ supertask.pk }}">
            {% include 'crackers/components/subtasks.html' %}
            </tbody>
          </table>
          {% comment %} </ul> {% endcomment %}
        </div>
      </div>
      <nav aria-label="pagination">
        <ul id="paginator-{{ supertask.pk }}" class="pagination pagination-sm justify-content-center">
          {% include 'crackers/components/paginator.html' %}
        </ul>
      </nav>
      <a class="btn btn-link btn-sm" href="{% url 'tracks:tasks' supertask.pk %}">See in Table</a>
      <a class="btn btn-link btn-sm" href="{% url 'tracks:create_subtask' supertask.pk %}">Create Subtask</a>
      <a class="btn btn-link btn-sm" href="{% url 'tracks:update' supertask.pk %}">Update Task</a>
      <a class="btn btn-link btn-sm" href="{% url 'tracks:move_objective' supertask.pk %}">Move Task</a>
      <a class="btn btn-link btn-sm"
        hx-delete="{% url 'tracks:delete' supertask.pk %}"
        hx-target="body"
        hx-confirm="This will delete all related subtasks.">Delete Task</a>
      {# tree 구조 변경하는 버튼 추가 #}
    </div>
  </td>
</tr>

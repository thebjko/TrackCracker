{% extends 'base.html' %}

{% block content %}
<h1>{{ title }}</h1>
{% with form.instance as inst %}
<form hx-put="{% url 'tracks:update' inst.pk %}" hx-target="body">
  {% with form.title as title %}
  <div class="form-group">
    <label for="{{ title.id_for_label }}">{{ title.label }}</label>
    <input required type="{{ title.field.widget.input_type }}" class="form-control" value="{{ inst.title }}" placeholder="{{ title.label }}" name="{{ title.name }}" />
  </div>
  {% endwith %}
  
  {% with form.description as description %}
  <div class="form-group">
    <label for="{{ description.id_for_label }}">{{ description.label }}</label>
    <textarea required id="{{ description.id_for_label }}" class="form-control" placeholder="{{ description.label }}" name="{{ description.name }}">{{ inst.description }}</textarea>
  </div>
  {% endwith %}
  
  {% with form.type as type %}
  <div class="form-group">
    <label for="{{ type.id_for_label }}">{{ type.label }}</label>
    <input required type="{{ type.field.widget.input_type }}" class="form-control" value="{{ inst.type }}" placeholder="{{ type.label }}" name="{{ type.name }}" />
  </div>
  {% endwith %}
  
  {% with form.total as total %}
  <div class="form-group">
    <label for="{{ total.id_for_label }}">{{ total.label }}</label>
    <input required type="{{ total.field.widget.input_type }}" class="form-control" value="{{ inst.total }}" placeholder="{{ total.label }}" name="{{ total.name }}" />
  </div>
  {% endwith %}
  
  {% if supertask_pk or objective_pk %}
  {% with form.proportion as proportion %}
  <div class="form-group">
    <label for="{{ proportion.id_for_label }}">{{ proportion.label }}</label>
    <input required type="{{ proportion.field.widget.input_type }}" class="form-control" value="{{ inst.proportion }}" placeholder="{{ proportion.label }}" name="{{ proportion.name }}" />
  </div>
  {% endwith %}
  {% endif %}

  <button class="btn btn-primary" type="submit">UPDATE</button>
</form>
{% endwith %}
{% endblock content %}